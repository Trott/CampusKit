var ucsf=ucsf||{};ucsf.ctsiProfile={renderProfile:function(e){"use strict";if(e.hasOwnProperty("Profiles")&&e.Profiles instanceof Array&&e.Profiles.length>0){var t,n,i,r,a,o,l,c,s,d,u,m,p,f,h,g,b,w,P,y,v,E,L,A=e.Profiles[0],C=document.getElementById("ctsi-menu"),T=document.getElementById("ctsi-header");if(A.hasOwnProperty("Name")){T.innerHTML=A.Name;if(A.hasOwnProperty("PhotoURL")){n=document.createElement("img");n.setAttribute("src","http://src.sencha.io/80/80/"+A.PhotoURL);n.setAttribute("alt","");n.setAttribute("style","border-top-right-radius:0;border-bottom-left-radius:.5em;float:left");i=T.clientHeight;T.setAttribute("style","height:52px;padding-top:20px");C.insertBefore(n,T)}}if(A.hasOwnProperty("Narrative")&&"string"==typeof A.Narrative){t=document.createElement("ol");C.appendChild(t);r=document.createElement("li");a=document.createElement("a");a.setAttribute("href","#");a.setAttribute("onclick","ucsf.ctsiProfile.toggleNarrative(); return false;");o=document.createElement("span");o.setAttribute("class","smallprint");o.setAttribute("id","ctsi-narrative");l=A.Narrative.substring(0,A.Narrative.substring(0,200).lastIndexOf(" "));o.innerHTML=l+"...";document.getElementById("ctsi-narrative-hidden").innerHTML=A.Narrative;a.appendChild(o);r.appendChild(a);t.appendChild(r);n.setAttribute("style","border-top-right-radius:0;float:left")}if(A.hasOwnProperty("Keywords")&&A.Keywords.length>0){c=A.Keywords;s=document.createElement("ol");d=c.length>5?5:c.length;for(u=0;d>u;u+=1){m=document.createElement("li");m.innerHTML=c[u];s.appendChild(m)}p=document.getElementById("ctsi-keywords");p.innerHTML='<h1 class="content-first light">Research Interests</h1>';p.appendChild(s)}if(A.hasOwnProperty("Publications")&&A.Publications.length>0){f=A.Publications;h=document.createElement("ol");g=f.length>5?5:f.length;for(b=0;g>b;b+=1)if(f[b].hasOwnProperty("PublicationTitle")){w=document.createElement("li");P=document.createElement("span");P.setAttribute("class","smallprint");P.innerHTML=f[b].PublicationTitle;if(f[b].hasOwnProperty("PublicationSource")&&f[b].PublicationSource[0].hasOwnProperty("PublicationSourceURL")&&f[b].PublicationSource[0].PublicationSourceURL.length>0){y=document.createElement("a");y.setAttribute("href",f[b].PublicationSource[0].PublicationSourceURL);y.setAttribute("rel","external")}else y=document.createElement("p");y.appendChild(P);w.appendChild(y);h.appendChild(w)}v=document.getElementById("ctsi-publications");v.innerHTML='<h1 class="content-first light">Recent Publications</h1>';v.appendChild(h)}if(A.hasOwnProperty("ProfilesURL")){E=document.createElement("li");L=document.createElement("a");L.innerHTML="Full Research Profile";L.setAttribute("rel","external");L.setAttribute("href",A.ProfilesURL);document.getElementById("ctsi-full-profile");E.appendChild(L);document.getElementById("ctsi-full-profile").appendChild(E)}}},toggleNarrative:function(){"use strict";var e=document.getElementById("ctsi-narrative").innerHTML;document.getElementById("ctsi-narrative").innerHTML=document.getElementById("ctsi-narrative-hidden").innerHTML;document.getElementById("ctsi-narrative-hidden").innerHTML=e}};window.location.search&&(window.onload=function(){"use strict";var e,t,n=decodeURIComponent(window.location.search),i=n.match(/[&?]fno=([\w.@]+)/);if(null!==i){e=i[1];t=document.createElement("script");t.src="http://profiles.ucsf.edu/CustomAPI/v1/JSONProfile.aspx?FNO="+e+"&callback=ucsf.ctsiProfile.renderProfile&publications=full&mobile=on";document.body.appendChild(t)}});