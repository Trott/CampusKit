var ucsf=ucsf||{};ucsf.ctsiProfile={renderProfile:function(e){"use strict";if(e.hasOwnProperty("Profiles")&&e.Profiles instanceof Array&&e.Profiles.length>0){var t,n,r,i,o,a,u,s,c,l,f,h,p,d,$,v,m,g,y,b,w,C,E,S=e.Profiles[0],k=document.getElementById("ctsi-menu"),x=document.getElementById("ctsi-header");if(S.hasOwnProperty("Name")){x.innerHTML=S.Name;if(S.hasOwnProperty("PhotoURL")){n=document.createElement("img");n.setAttribute("src","http://src.sencha.io/80/80/"+S.PhotoURL);n.setAttribute("alt","");n.setAttribute("style","border-top-right-radius:0;border-bottom-left-radius:.5em;float:left");r=x.clientHeight;x.setAttribute("style","height:52px;padding-top:20px");k.insertBefore(n,x)}}if(S.hasOwnProperty("Narrative")&&"string"==typeof S.Narrative){t=document.createElement("ol");k.appendChild(t);i=document.createElement("li");o=document.createElement("a");o.setAttribute("href","#");o.setAttribute("onclick","ucsf.ctsiProfile.toggleNarrative(); return false;");a=document.createElement("span");a.setAttribute("class","smallprint");a.setAttribute("id","ctsi-narrative");u=S.Narrative.substring(0,S.Narrative.substring(0,200).lastIndexOf(" "));a.innerHTML=u+"...";document.getElementById("ctsi-narrative-hidden").innerHTML=S.Narrative;o.appendChild(a);i.appendChild(o);t.appendChild(i);n.setAttribute("style","border-top-right-radius:0;float:left")}if(S.hasOwnProperty("Keywords")&&S.Keywords.length>0){s=S.Keywords;c=document.createElement("ol");c.setAttribute("class","research-interests");l=s.length>5?5:s.length;for(f=0;l>f;f+=1){h=document.createElement("li");h.innerHTML=s[f];c.appendChild(h)}p=document.getElementById("ctsi-keywords");p.innerHTML='<h1 class="light">Research Interests</h1>';p.appendChild(c)}if(S.hasOwnProperty("Publications")&&S.Publications.length>0){d=S.Publications;$=document.createElement("ol");v=d.length>5?5:d.length;for(m=0;v>m;m+=1)if(d[m].hasOwnProperty("PublicationTitle")){g=document.createElement("li");y=document.createElement("span");y.setAttribute("class","smallprint");y.innerHTML=d[m].PublicationTitle;if(d[m].hasOwnProperty("PublicationSource")&&d[m].PublicationSource[0].hasOwnProperty("PublicationSourceURL")&&d[m].PublicationSource[0].PublicationSourceURL.length>0){b=document.createElement("a");b.setAttribute("href",d[m].PublicationSource[0].PublicationSourceURL);b.setAttribute("rel","external")}else b=document.createElement("p");b.appendChild(y);g.appendChild(b);$.appendChild(g)}w=document.getElementById("ctsi-publications");w.innerHTML='<h1 class="content-first light">Recent Publications</h1>';w.appendChild($)}if(S.hasOwnProperty("ProfilesURL")){C=document.createElement("li");E=document.createElement("a");E.innerHTML="Full Research Profile";E.setAttribute("rel","external");E.setAttribute("href",S.ProfilesURL);document.getElementById("ctsi-full-profile");C.appendChild(E);document.getElementById("ctsi-full-profile").appendChild(C)}}},toggleNarrative:function(){"use strict";var e=document.getElementById("ctsi-narrative").innerHTML;document.getElementById("ctsi-narrative").innerHTML=document.getElementById("ctsi-narrative-hidden").innerHTML;document.getElementById("ctsi-narrative-hidden").innerHTML=e}};window.location.search&&(window.onload=function(){"use strict";var e,t,n=decodeURIComponent(window.location.search),r=n.match(/[&?]fno=([\w.@]+)/);if(null!==r){e=r[1];t=document.createElement("script");t.src="http://profiles.ucsf.edu/CustomAPI/v1/JSONProfile.aspx?FNO="+e+"&callback=ucsf.ctsiProfile.renderProfile&publications=full&mobile=on";document.body.appendChild(t)}});