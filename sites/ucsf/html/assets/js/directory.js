var Hogan={};(function(e,t){function n(e){return(null===e||void 0===e?"":e)+""}function r(e){e=n(e);return c.test(e)?e.replace(i,"&amp;").replace(o,"&lt;").replace(a,"&gt;").replace(u,"&#39;").replace(s,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r;this.c=r;this.options=i;this.text=n||"";this.buf=t?[]:""};e.Template.prototype={r:function(){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];if(!i)return"";this.c&&"string"==typeof i&&(i=this.c.compile(i,this.options));return i.ri(t,n,r)},rs:function(e,t,n){var r=e[e.length-1];if(l(r))for(var i=0;r.length>i;i++){e.push(r[i]);n(e,t,this);e.pop()}else n(e,t,this)},s:function(e,t,n,r,i,o,a){var u;if(l(e)&&0===e.length)return!1;"function"==typeof e&&(e=this.ls(e,t,n,r,i,o,a));u=""===e||!!e;!r&&u&&t&&t.push("object"==typeof e?e:t[t.length-1]);return u},d:function(e,t,n,r){var i=e.split("."),o=this.f(i[0],t,n,r),a=null;if("."===e&&l(t[t.length-2]))return t[t.length-1];for(var u=1;i.length>u;u++)if(o&&"object"==typeof o&&i[u]in o){a=o;o=o[i[u]]}else o="";if(r&&!o)return!1;if(!r&&"function"==typeof o){t.push(a);o=this.lv(o,t,n);t.pop()}return o},f:function(e,t,n,r){for(var i=!1,o=null,a=!1,u=t.length-1;u>=0;u--){o=t[u];if(o&&"object"==typeof o&&e in o){i=o[e];a=!0;break}}if(!a)return r?!1:"";r||"function"!=typeof i||(i=this.lv(i,t,n));return i},ho:function(e,t,n,r,i){var o=this.c,a=this.options;a.delimiters=i;var r=e.call(t,r);r=null==r?r+"":""+r;this.b(o.compile(r,a).render(t,n));return!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");this.buf=[];return e}:function(){var e=this.buf;this.buf="";return e},ls:function(e,t,n,r,i,o,a){var u=t[t.length-1],s=null;if(!r&&this.c&&e.length>0)return this.ho(e,u,n,this.text.substring(i,o),a);s=e.call(u);if("function"==typeof s){if(r)return!0;if(this.c)return this.ho(s,u,n,this.text.substring(i,o),a)}return s},lv:function(e,t,r){var i=t[t.length-1],o=e.call(i);if("function"==typeof o){o=n(o.call(i));if(this.c&&~o.indexOf("{{"))return this.c.compile(o,this.options).render(i,r)}return n(o)}};var i=/&/g,o=/</g,a=/>/g,u=/\'/g,s=/\"/g,c=/[&<>\"\']/,l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})("undefined"!=typeof exports?exports:Hogan);var _dirq=_dirq||[],ucsf=ucsf||{};ucsf.directory=function(){var e={};e.renderSearchResults=function(e){if(e.error)window.alert(e.error.message);else{var t=e.data||[],n=t.length>20?20:t.length,r='<div class="menu"><h1>Search Results ('+n+")</h1>";20===n&&(r+='<p class="info">Results limited to 20.</p>');if(0===n)r+='<p class="info">No results found.</p>';else{r+="<ol>";for(var i=0;n>i;i++)if(t[i].hasOwnProperty("id")&&t[i].hasOwnProperty("name")){r=r+'<li><a href="/directory/detail/?'+encodeURIComponent(t[i].id)+'">';r+='<span style="">';r+=t[i].name;t[i].hasOwnProperty("department")&&(r=r+" &ndash; "+t[i].department);r+="</span>"}r+="</ol>"}r+="</div>";var o=document.getElementById("searchresults");o.innerHTML=r;o.scrollIntoView()}};e.renderDetail=function(t){var n=new Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.s(r.f("data",e,t,1),e,t,1,0,0,"")||r.b('<div class="content"><p class="info">No details available.</p></div>');if(r.s(r.f("data",e,t,1),e,t,0,95,1146,"{{ }}")){r.rs(e,t,function(e,t,n){if(n.s(n.d(".",e,t,1),e,t,0,101,1140,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<div class="menu detailed" id="ucsf_directory_detail_menu"><h1>');n.b(n.v(n.f("name",e,t,0)));if(n.s(n.f("degrees",e,t,1),e,t,0,184,191,"{{ }}")){n.rs(e,t,function(e,t,n){n.b(", ");n.b(n.v(n.d(".",e,t,0)))});e.pop()}n.b('</h1><ol id="ucsf_directory_detail_menu_list">');if(n.s(n.f("phones",e,t,1),e,t,0,260,644,"{{ }}")){n.rs(e,t,function(e,t,n){if(n.s(n.f("main",e,t,1),e,t,0,269,321,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="tel:');n.b(n.v(n.d(".",e,t,0)));n.b('">Campus Phone: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}if(n.s(n.f("alternate",e,t,1),e,t,0,344,401,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="tel:');n.b(n.v(n.d(".",e,t,0)));n.b('">Alt. Campus Phone: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}if(n.s(n.f("privatePractice",e,t,1),e,t,0,435,491,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="tel:');n.b(n.v(n.d(".",e,t,0)));n.b('">Private Practice: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}if(n.s(n.f("mobile",e,t,1),e,t,0,522,568,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="tel:');n.b(n.v(n.d(".",e,t,0)));n.b('">Mobile: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}if(n.s(n.f("pager",e,t,1),e,t,0,589,634,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="tel:');n.b(n.v(n.d(".",e,t,0)));n.b('">Pager: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}});e.pop()}if(n.s(n.f("email",e,t,1),e,t,0,665,713,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><a href="mailto:');n.b(n.v(n.d(".",e,t,0)));n.b('">Email: ');n.b(n.v(n.d(".",e,t,0)));n.b("</a></li>")});e.pop()}n.b('</ol></div><div class="content"><ul class="ucsf-directory">');if(n.s(n.f("department",e,t,1),e,t,0,797,855,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><span class="smallprint">Department:</span> ');n.b(n.v(n.d(".",e,t,0)));n.b("</li>")});e.pop()}if(n.s(n.f("title",e,t,1),e,t,0,880,933,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><span class="smallprint">Title:</span> ');n.b(n.v(n.d(".",e,t,0)));n.b("</li>")});e.pop()}if(n.s(n.f("campusBox",e,t,1),e,t,0,957,1015,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><span class="smallprint">Campus Box:</span> ');n.b(n.v(n.d(".",e,t,0)));n.b("</li>")});e.pop()}if(n.s(n.f("address",e,t,1),e,t,0,1041,1117,"{{ }}")){n.rs(e,t,function(e,t,n){n.b('<li><span class="smallprint">Postal Address:</span><br><pre>');n.b(n.v(n.d(".",e,t,0)));n.b("</pre></li>")});e.pop()}n.b("</ul></div>")});e.pop()}});e.pop()}return r.fl()}),r=document.getElementById("ucsf_directory_detail");r.innerHTML=n.render(t);if(t.data&&t.data[0]&&t.data[0].id){e.id=t.data[0].id;var i=document.createElement("script");i.setAttribute("src","http://profiles.ucsf.edu/CustomAPI/v1/JSONProfile.aspx?FNO="+e.id+"&callback=ucsf.directory.addPhotoAndProfileUrl");document.getElementsByTagName("head")[0].appendChild(i)}};e.addPhotoAndProfileUrl=function(t){if(t.hasOwnProperty("Profiles")&&t.Profiles instanceof Array&&t.Profiles.length>0){var n=t.Profiles[0];if(n.hasOwnProperty("PhotoURL")){var r=document.createElement("img");r.setAttribute("src","http://src.sencha.io/80/80/"+n.PhotoURL);r.setAttribute("alt","");r.setAttribute("style","border-top-right-radius:0;float:left");var i=document.getElementById("ucsf_directory_detail_menu"),o=i.firstChild;o.setAttribute("style","height:52px;padding-top:20px;border-radius:.5em .5em 0 0;");i.insertBefore(r,o)}if(n.hasOwnProperty("ProfilesURL")){var a=document.createElement("a");a.setAttribute("href","/research/?fno="+e.id);a.innerHTML="Research &amp; Publications";var u=document.createElement("li");u.appendChild(a);document.getElementById("ucsf_directory_detail_menu_list").appendChild(u)}}};return e}();Modernizr.load({load:"http://apis.ucsf.edu/jsapi?person",callback:function(){var e=_dirq===void 0?[]:_dirq;_dirq={push:function(e){e[0].apikey="c631ef46e918c82cf81ef4869f0029d4";return UCSF.Person.search.apply(ucsf.directory,e)}};for(var t=0,n=e.length;n>t;t++)_dirq.push(e[t])}});